# Research to Diagram - ä½¿ç”¨æŒ‡å—

ä»ç ”ç©¶åˆ°å¯è§†åŒ–çš„ä¸€ç«™å¼çŸ¥è¯†å›¾è°±ç”Ÿæˆå·¥å…·ã€‚

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
# macOS
brew install graphviz

# Ubuntu/Debian
sudo apt-get install graphviz

# éªŒè¯å®‰è£…
dot -V
```

### 2. ä½¿ç”¨ Skill

ç›´æ¥å‘ Claude Code æè¿°ä½ çš„ç ”ç©¶éœ€æ±‚ï¼š

```bash
# ç¤ºä¾‹ 1ï¼šæ–‡å­¦ä½œå“äººç‰©å…³ç³»
"æ·±åº¦è°ƒæŸ¥ã€Šçº¢æ¥¼æ¢¦ã€‹é‡Œäººç‰©ä¹‹é—´çš„å…³ç³»ï¼Œç„¶ååšä¸ªç»“æ„å›¾ PDF"

# ç¤ºä¾‹ 2ï¼šæŠ€æœ¯æ¶æ„ç ”ç©¶
"ç ”ç©¶ Kubernetes çš„æ¶æ„å¹¶ç”Ÿæˆå¯è§†åŒ–å›¾è°±"

# ç¤ºä¾‹ 3ï¼šå†å²äº‹ä»¶åˆ†æ
"åˆ†ææ˜¥ç§‹æˆ˜å›½æ—¶æœŸå„å›½å…³ç³»ï¼Œåšæˆå…³ç³»å›¾"
```

## å·¥ä½œæµç¨‹

```
ç”¨æˆ·è¾“å…¥ä¸»é¢˜
    â†“
WebSearch æ·±åº¦è°ƒç ”
    â†“
ä¿¡æ¯æå–ä¸æ•´ç†
    â†“
ç»“æ„è®¾è®¡
    â†“
ç”Ÿæˆ Graphviz DOT
    â†“
ç¼–è¯‘ä¸º PDF
    â†“
æä¾›ä¸‹è½½é“¾æ¥å’Œå‚è€ƒèµ„æ–™
```

## æ¨¡æ¿ç¤ºä¾‹

### äººç‰©å…³ç³»å›¾

é€‚ç”¨åœºæ™¯ï¼š
- æ–‡å­¦ä½œå“äººç‰©åˆ†æ
- å†å²äººç‰©å…³ç³»
- å®¶æ—è°±ç³»
- ç»„ç»‡äººå‘˜ç»“æ„

å‚è€ƒæ¨¡æ¿ï¼š`examples/character_relationships.dot`

ç‰¹ç‚¹ï¼š
- ä½¿ç”¨ `cluster` åˆ†ç»„å®¶æ—/å›¢ä½“
- ä¸åŒé¢œè‰²åŒºåˆ†ç±»åˆ«
- çº¢è‰²å®çº¿è¡¨ç¤ºå©šå§»ï¼Œé»‘è‰²è¡¨ç¤ºè¡€ç¼˜
- è™šçº¿è¡¨ç¤ºå…¶ä»–å…³ç³»

### æ¦‚å¿µå›¾è°±

é€‚ç”¨åœºæ™¯ï¼š
- çŸ¥è¯†ä½“ç³»æ¢³ç†
- å­¦ç§‘åˆ†ç±»
- æ¦‚å¿µå…³ç³»åˆ†æ
- æ€ç»´å¯¼å›¾

å‚è€ƒæ¨¡æ¿ï¼š`examples/concept_map.dot`

ç‰¹ç‚¹ï¼š
- æ ‘çŠ¶å±‚æ¬¡ç»“æ„
- æ ¸å¿ƒæ¦‚å¿µåœ¨é¡¶éƒ¨
- é¢œè‰²ç¼–ç ä¸åŒç±»åˆ«
- è™šçº¿è¡¨ç¤ºå…³è”å…³ç³»

### æŠ€æœ¯æ¶æ„å›¾

é€‚ç”¨åœºæ™¯ï¼š
- ç³»ç»Ÿæ¶æ„è®¾è®¡
- å¾®æœåŠ¡æ¶æ„
- æŠ€æœ¯æ ˆå¯è§†åŒ–
- ç»„ä»¶ä¾èµ–å…³ç³»

å‚è€ƒæ¨¡æ¿ï¼š`examples/tech_architecture.dot`

ç‰¹ç‚¹ï¼š
- åˆ†å±‚æ¶æ„ï¼ˆå®¢æˆ·ç«¯/ç½‘å…³/åº”ç”¨/æ•°æ®ï¼‰
- ä¸åŒå½¢çŠ¶è¡¨ç¤ºä¸åŒç»„ä»¶ç±»å‹
- å®çº¿=åŒæ­¥è°ƒç”¨ï¼Œè™šçº¿=å¼‚æ­¥
- åŒ…å«å›¾ä¾‹è¯´æ˜

## æ‰‹åŠ¨ç”Ÿæˆ PDF

å¦‚æœä½ æœ‰ `.dot` æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨æä¾›çš„è„šæœ¬ç”Ÿæˆ PDFï¼š

```bash
# ä½¿ç”¨è„šæœ¬
bash ~/.claude/skills/research-to-diagram/scripts/generate_pdf.sh input.dot output.pdf

# æˆ–ç›´æ¥ä½¿ç”¨ dot å‘½ä»¤
dot -Tpdf input.dot -o output.pdf

# ç”Ÿæˆå…¶ä»–æ ¼å¼
dot -Tpng input.dot -o output.png  # PNG å›¾ç‰‡
dot -Tsvg input.dot -o output.svg  # SVG çŸ¢é‡å›¾
```

## Graphviz å¸¸ç”¨é…ç½®

### å¸ƒå±€æ–¹å‘

```dot
graph [rankdir=TB]  // ä¸Šåˆ°ä¸‹
graph [rankdir=LR]  // å·¦åˆ°å³
graph [rankdir=BT]  // ä¸‹åˆ°ä¸Š
graph [rankdir=RL]  // å³åˆ°å·¦
```

### èŠ‚ç‚¹å½¢çŠ¶

```dot
node [shape=box]        // çŸ©å½¢
node [shape=ellipse]    // æ¤­åœ†
node [shape=circle]     // åœ†å½¢
node [shape=diamond]    // è±å½¢
node [shape=cylinder]   // æŸ±çŠ¶ï¼ˆæ•°æ®åº“ï¼‰
node [shape=component]  // ç»„ä»¶
```

### è¾¹çš„æ ·å¼

```dot
edge [style=solid]      // å®çº¿
edge [style=dashed]     // è™šçº¿
edge [style=dotted]     // ç‚¹çº¿
edge [style=bold]       // ç²—çº¿
edge [arrowsize=0.8]    // ç®­å¤´å¤§å°
```

### ä¸­æ–‡æ”¯æŒ

```dot
graph [fontname="Arial Unicode MS"]
node [fontname="Arial Unicode MS"]
edge [fontname="Arial Unicode MS"]

// æˆ–ä½¿ç”¨ç³»ç»Ÿå­—ä½“
graph [fontname="STHeiti"]  // macOS é»‘ä½“
graph [fontname="SimHei"]   // Windows é»‘ä½“
```

### é¢œè‰²æ–¹æ¡ˆ

å¸¸ç”¨é¢œè‰²ï¼š
- `#ffd700` - é‡‘è‰²ï¼ˆé‡è¦ï¼‰
- `#ff6347` - ç•ªèŒ„çº¢ï¼ˆä¸»è¦ï¼‰
- `#87ceeb` - å¤©è“è‰²ï¼ˆæ¬¡è¦ï¼‰
- `#98fb98` - æ·¡ç»¿è‰²ï¼ˆè¾…åŠ©ï¼‰
- `#ffb6c1` - ç²‰çº¢ï¼ˆç‰¹æ®Šï¼‰

é¢œè‰²å‘½åï¼š
- `red`, `blue`, `green`, `yellow`, `purple`, `orange`
- `lightgrey`, `lightblue`, `lightgreen`

## é«˜çº§æŠ€å·§

### 1. å¼ºåˆ¶èŠ‚ç‚¹åŒå±‚

```dot
{rank=same; node1; node2; node3}
```

### 2. éšè—è¾¹ï¼ˆæ§åˆ¶å¸ƒå±€ï¼‰

```dot
node1 -> node2 [style=invis]
```

### 3. åˆå¹¶ç›¸åŒè¾¹

```dot
graph [concentrate=true]
```

### 4. è°ƒæ•´é—´è·

```dot
graph [
    nodesep=1.0    // èŠ‚ç‚¹æ°´å¹³é—´è·
    ranksep=1.5    // å±‚çº§å‚ç›´é—´è·
]
```

### 5. è·¨ cluster è¿æ¥

```dot
graph [compound=true]
node1 -> node2 [ltail=cluster_a lhead=cluster_b]
```

## å¸¸è§é—®é¢˜

### Q: ä¸­æ–‡æ˜¾ç¤ºä¸ºä¹±ç æˆ–æ–¹æ¡†

A: ç¡®ä¿è®¾ç½®äº†ä¸­æ–‡å­—ä½“ï¼š

```dot
graph [fontname="Arial Unicode MS"]
node [fontname="Arial Unicode MS"]
edge [fontname="Arial Unicode MS"]
```

### Q: å›¾è°±å¤ªå¤æ‚ï¼Œå¸ƒå±€æ··ä¹±

A:
1. ä½¿ç”¨ `concentrate=true` åˆå¹¶è¾¹
2. è°ƒæ•´ `nodesep` å’Œ `ranksep` å¢å¤§é—´è·
3. åˆ†å‰²æˆå¤šä¸ªå­å›¾
4. ä½¿ç”¨ `rank=same` æ§åˆ¶å¸ƒå±€

### Q: è¾¹çš„æ ‡ç­¾é‡å 

A:
1. å‡å°‘æ ‡ç­¾é•¿åº¦
2. ä½¿ç”¨ `labeldistance` å’Œ `labelangle` è°ƒæ•´ä½ç½®
3. æ”¹ç”¨ `xlabel` ä»£æ›¿ `label`

### Q: PDF æ–‡ä»¶å¤ªå¤§

A:
1. ä½¿ç”¨ SVG æ ¼å¼ï¼š`dot -Tsvg input.dot -o output.svg`
2. å‡å°‘èŠ‚ç‚¹æ•°é‡ï¼Œæé«˜æŠ½è±¡å±‚æ¬¡
3. åˆ†å‰²æˆå¤šä¸ªå›¾è¡¨

### Q: æƒ³è¦æ°´å¹³å¸ƒå±€

A: å°† `rankdir=TB` æ”¹ä¸º `rankdir=LR`

## å‚è€ƒèµ„æº

- [Graphviz å®˜æ–¹æ–‡æ¡£](https://graphviz.org/documentation/)
- [DOT è¯­è¨€æŒ‡å—](https://graphviz.org/doc/info/lang.html)
- [èŠ‚ç‚¹å½¢çŠ¶å‚è€ƒ](https://graphviz.org/doc/info/shapes.html)
- [é¢œè‰²åç§°åˆ—è¡¨](https://graphviz.org/doc/info/colors.html)

## ä¸ structure-to-pdf çš„å¯¹æ¯”

| ç‰¹æ€§ | research-to-diagram | structure-to-pdf |
|------|---------------------|------------------|
| **æ•°æ®æ¥æº** | è‡ªåŠ¨è°ƒç ”æ”¶é›† | ç”¨æˆ·æä¾› |
| **é€‚ç”¨åœºæ™¯** | æ¢ç´¢æ€§ç ”ç©¶ | å¿«é€Ÿè½¬æ¢ |
| **è°ƒç ”èƒ½åŠ›** | âœ… WebSearch | âŒ |
| **çŸ¥è¯†æ•´ç†** | âœ… è‡ªåŠ¨æå– | âŒ |
| **å·¥ä½œé‡** | å…¨è‡ªåŠ¨ | éœ€å‡†å¤‡æ•°æ® |
| **æ—¶é—´** | è¾ƒé•¿ï¼ˆ2-5åˆ†é’Ÿï¼‰ | å¿«é€Ÿï¼ˆ<1åˆ†é’Ÿï¼‰ |
| **å‚è€ƒèµ„æ–™** | âœ… æä¾›æ¥æº | âŒ |
| **é€‚åˆä¸»é¢˜** | å¤æ‚çŸ¥è¯†ä½“ç³» | ç®€å•ç»“æ„æ•°æ® |

**é€‰æ‹©å»ºè®®**ï¼š
- ğŸ“š **ç ”ç©¶å‹ä»»åŠ¡** â†’ ä½¿ç”¨ `research-to-diagram`
- ğŸ”„ **è½¬æ¢å‹ä»»åŠ¡** â†’ ä½¿ç”¨ `structure-to-pdf`

## ç¤ºä¾‹é¡¹ç›®

### 1. çº¢æ¥¼æ¢¦äººç‰©å…³ç³»å›¾

**è¾“å…¥**ï¼š
```
æ·±åº¦è°ƒæŸ¥ã€Šçº¢æ¥¼æ¢¦ã€‹é‡Œäººç‰©ä¹‹é—´çš„å…³ç³»ï¼Œç„¶ååšä¸ªç»“æ„å›¾ PDF
```

**è¾“å‡º**ï¼š
- `hongloumeng_relations.dot` - æºæ–‡ä»¶
- `hongloumeng_relations.pdf` - 152KB PDF
- åŒ…å«å››å¤§å®¶æ—ã€é‡‘é™µåäºŒé’—ã€å®é»›é’—ä¸‰è§’å…³ç³»

**ç‰¹è‰²**ï¼š
- 7ä¸ª subgraph cluster åˆ†ç»„
- 50+ äººç‰©èŠ‚ç‚¹
- å¤šç§å…³ç³»ç±»å‹ï¼ˆè¡€ç¼˜ã€å©šå§»ã€è”å§»ï¼‰
- å®Œæ•´å›¾ä¾‹è¯´æ˜

### 2. Kubernetes æ¶æ„å›¾

**è¾“å…¥**ï¼š
```
ç ”ç©¶ Kubernetes æ¶æ„å¹¶ç”Ÿæˆå¯è§†åŒ–å›¾è°±
```

**å¯èƒ½è¾“å‡º**ï¼š
- æ§åˆ¶å¹³é¢ç»„ä»¶ï¼ˆAPI Server, Scheduler, Controller Managerï¼‰
- æ•°æ®å¹³é¢ç»„ä»¶ï¼ˆKubelet, Kube-proxyï¼‰
- æ’ä»¶ç”Ÿæ€ï¼ˆCNI, CSI, CRIï¼‰
- ç»„ä»¶é—´é€šä¿¡å…³ç³»

### 3. ä¸‰å›½äººç‰©å…³ç³»

**è¾“å…¥**ï¼š
```
åˆ†æã€Šä¸‰å›½æ¼”ä¹‰ã€‹ä¸»è¦äººç‰©å…³ç³»ï¼Œç”Ÿæˆå…³ç³»å›¾
```

**å¯èƒ½è¾“å‡º**ï¼š
- é­èœ€å´ä¸‰å¤§é˜µè¥
- å›è‡£å…³ç³»ã€å…„å¼Ÿå…³ç³»ã€è”ç›Ÿå…³ç³»
- é‡è¦æˆ˜å½¹èŠ‚ç‚¹
- äººç‰©å‘½è¿èµ°å‘

## ç‰ˆæœ¬å†å²

- **v1.0** (2026-01-02)
  - åˆå§‹å‘å¸ƒ
  - åŸºäºçº¢æ¥¼æ¢¦äººç‰©å…³ç³»å›¾é¡¹ç›®ç»éªŒ
  - æ”¯æŒ Graphviz/DOT è‡ªåŠ¨ç”Ÿæˆ
  - é›†æˆ WebSearch æ·±åº¦è°ƒç ”
  - æä¾›ä¸‰ç§æ¨¡æ¿ï¼ˆäººç‰©/æ¦‚å¿µ/æŠ€æœ¯ï¼‰

## è´¡çŒ®

æ¬¢è¿æäº¤ï¼š
- æ–°çš„å›¾è°±æ¨¡æ¿
- æœ€ä½³å®è·µæ¡ˆä¾‹
- Bug æŠ¥å‘Š
- åŠŸèƒ½å»ºè®®

## è®¸å¯è¯

MIT License
